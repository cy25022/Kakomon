# 📚 Kakomon - 過去問共有プラットフォーム

学生が大学の過去問を共有し、AI による類題作成や質問ができる学習支援プラットフォームです。

**技術スタック**: Next.js 16 (App Router) | React 19 | TypeScript | Tailwind CSS v4 | shadcn/ui

---

## ✨ 主な機能

本プロジェクトは、学生が過去問にアクセスしやすくし、より深い学習をサポートすることを目的としています。

### 📖 過去問の閲覧
- **階層的な検索**: 学部 → 学科 → 科目 → 教授 の階層で、投稿された過去問を簡単に検索・閲覧できます
- **分かりやすいナビゲーション**: 各レベルの選択に応じて、次のレベルの選択肢を絞り込み表示

### 📤 過去問の共有
- **簡単なアップロード**: 自分が持っている過去問をアップロードし、他の学生と共有できます
- **メタデータ管理**: 学部、学科、科目、教授情報を自動で管理

### 🤖 AI による類題作成
- **自動生成機能**: 登録された過去問をベースに、OpenAI API (gpt-4o-mini) を利用して新しい類題を自動生成します
- **ユーザー設定**: APIキー設定画面から個人の OpenAI APIキーを登録できます

### 💬 質問機能
- **Q&A セクション**: 特定の過去問に対して質問を投稿できます
- **コミュニティ学習**: 他のユーザーとの知識共有を促進

### 🔐 認証・ユーザー管理
- **登録・ログイン**: ユーザー登録、ログイン機能
- **アカウント管理**: 設定ページでプロフィール管理
- **セッション管理**: セキュアなセッション管理

> **注**: 現在、`lib/mock-data.ts` によるモックデータで動作しています。本番環境ではデータベース連携が必要です。

---

## 🛠️ 技術スタック

| 領域 | 技術 | バージョン |
|------|------|----------|
| **フレームワーク** | Next.js | 16.0.0 |
| **UI ライブラリ** | React | 19.2.0 |
| **言語** | TypeScript | ^5 |
| **スタイリング** | Tailwind CSS | ^4.1.9 |
| **UI コンポーネント** | shadcn/ui | - |
| **フォーム管理** | React Hook Form | ^7.60.0 |
| **バリデーション** | Zod | 3.25.76 |
| **AI API** | OpenAI | - |
| **その他** | Date-fns, Recharts, Sonner | - |

---

## 📁 プロジェクト構成

```
Kakomon/
├── app/                          # Next.js App Router
│   ├── api/                       # API ルート
│   │   ├── auth/                  # 認証関連 API
│   │   └── generate-similar/      # 類題生成 API
│   ├── auth/                      # 認証ページ
│   │   ├── login/
│   │   ├── sign-up/
│   │   └── ...
│   ├── exams/                     # 試験ページ
│   ├── questions/                 # 質問ページ
│   ├── share/                     # 共有ページ
│   ├── study/                     # 学習ページ (階層閲覧)
│   └── layout.tsx                 # ルートレイアウト
├── components/                    # React コンポーネント
│   ├── ui/                        # shadcn/ui コンポーネント
│   └── theme-provider.tsx         # テーマプロバイダー
├── hooks/                         # カスタムフック
│   ├── use-mobile.ts              # モバイル判定
│   └── use-toast.ts               # トースト通知
├── lib/                           # ユーティリティ
│   ├── mock-data.ts               # モックデータ
│   └── utils.ts                   # ユーティリティ関数
├── public/                        # 静的ファイル
├── scripts/                       # SQL スクリプト
├── styles/                        # グローバルスタイル
├── package.json                   # 依存関係
├── tsconfig.json                  # TypeScript 設定
├── tailwind.config.ts             # Tailwind CSS 設定
├── next.config.ts                 # Next.js 設定
└── README.md                      # このファイル
```

---

## 🚀 セットアップ

### 必要な環境
- Node.js 18.x 以上
- npm または pnpm

### インストール

```bash
# リポジトリのクローン
git clone https://github.com/al25133/Kakomon.git
cd Kakomon

# 依存関係のインストール
npm install
# または
pnpm install
```

### 開発サーバーの起動

```bash
npm run dev
# または
pnpm dev
```

ブラウザで `http://localhost:3000` を開きます。

### ビルド

```bash
npm run build
npm start
# または
pnpm build
pnpm start
```

---
## 📋 ページ一覧

### 認証ページ
- **ログイン** (`/auth/login`) - メールアドレスとパスワードでログイン
- **新規登録** (`/auth/sign-up`) - 新しいアカウントを作成
- **登録成功** (`/auth/sign-up-success`) - 登録完了画面

### 学習ページ
- **ホーム** (`/home`) - メインページ
- **過去問閲覧** (`/study/*`) - 学部 → 学科 → 科目 → 教授で階層検索
- **試験詳細** (`/exams/[id]`) - 特定の試験の詳細と質問表示
- **試験生成** (`/exams/generate`) - AI による試験類題生成

### 管理ページ
- **質問作成** (`/questions/create`) - 過去問に質問を投稿
- **過去問共有** (`/share`) - 新しい過去問をアップロード
- **アカウント設定** (`/account`) - プロフィール管理
- **設定** (`/settings`) - アプリ設定（APIキー等）

---

## 🔌 API エンドポイント

### 認証 API
- `POST /api/auth/login` - ログイン
- `POST /api/auth/logout` - ログアウト

### 類題生成 API
- `POST /api/generate-similar` - OpenAI を使用して類題を生成

---

## 🎨 デザイン

本プロジェクトは、提供されたデザインカンプに基づいて構築されています。

### カラースキーム
- **プライマリ**: `oklch(0.58 0.19 256.5)` - メインの青
- **セカンダリ**: `oklch(0.9 0.01 296.8)` - グレー
- **ダークモード**: サポート

### 角丸
- **標準**: `1.5rem (24px)` - PDFデザインに基づく

---

## 📝 使用例

### ログイン
1. `/auth/login` にアクセス
2. メールアドレスとパスワードを入力
3. ログインボタンをクリック

### 過去問の検索
1. `/home` または `/study/faculties` にアクセス
2. 学部を選択
3. 学科、科目、教授の順に選択
4. 該当する過去問を表示

### 過去問の共有
1. `/share` にアクセス
2. ステップ 1: 学部、学科、科目、教授を選択
3. ステップ 2: タイトルと問題内容を入力
4. アップロード

---

## 🐛 既知の問題・TODO

- [ ] OpenAI API 統合の完全実装
- [ ] 画像アップロード機能（PDFのスキャン等）
- [ ] リアルタイム Q&A 機能
- [ ] 検索・フィルター機能の拡張
- [ ] ユーザーレーティング・レビュー機能
- [ ] モバイル アプリ版

---

## 📞 サポート

問題が発生した場合は、[GitHub Issues](https://github.com/al25133/Kakomon/issues) で報告してください。

